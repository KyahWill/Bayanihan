#:include pantryMapView.kv
#:include MDNavigationLayout kivymd.uix.navigationdrawer 

Screen:
    pantryMapView: pantry_id
    search_input: text_field
    MDNavigationLayout:
    
        ScreenManager:
    
            Screen:
    
                BoxLayout:
                    orientation: 'vertical'
                    MDToolbar:
                        title: "Toolbar"
                        left_action_items: [["menu",lambda x: nav_drawer.set_state()]]
                        elevation: 10
                        MDTextField:
                            id: text_field
                            hint_text: 'Search Longitude'
                            text_color: 0,0,0,1
                            font_style: "H5"
                            size_hint_x: '0.5'
                        MDRoundFlatButton:
                            text: "Button for..."
                            on_press: for i in root.pantryMapView.searchMarkets(input_string = root.search_input.text): print(i['name'])
                    PantryMapView:
                        id: pantry_id
                        
                    
        MDNavigationDrawer:
            id: nav_drawer
            BoxLayout:
                orientation: 'vertical'
                Image:
                    source: "bean.jpg"
                MDLabel:
                    text: "Community Pantry PH"
                    font_style: 'Subtitle1'
                    size_hint_y: None
                BoxLayout:
                    size_hint_y: None
                    height: self.minimum_height

                    canvas:
                        Color:
                            rgba: app.theme_cls.primary_color
                        Rectangle:
                            pos: self.pos
                            size: self.size

                    MDLabel:
                        text: "Sunday"
                        font_style: 'Caption'
                    MDDropDownItem:
                        id: drop_item
                        text: "Options"
                        on_release: 
                            app.menu.open()
                            
                BoxLayout:
                    size_hint_y: None
                    height: self.minimum_height

                    canvas:
                        Color:
                            rgba: app.theme_cls.primary_color
                        Rectangle:
                            pos: self.pos
                            size: self.size
                    MDLabel:
                        text: "Monday"
                        font_style: 'Caption'
                    MDDropDownItem:
                        id: drop_item1
                        text: "Options"
                        on_release: self.set_item("Open")
                BoxLayout:
                    size_hint_y: None
                    height: self.minimum_height

                    canvas:
                        Color:
                            rgba: app.theme_cls.primary_color
                        Rectangle:
                            pos: self.pos
                            size: self.size
                    MDLabel:
                        text: "Tuesday"
                        font_style: 'Caption'
                    MDDropDownItem:
                        id: drop_item2
                        text: "Options"
                        on_release: self.set_item("Open")
                BoxLayout:
                    size_hint_y: None
                    height: self.minimum_height

                    canvas:
                        Color:
                            rgba: app.theme_cls.primary_color
                        Rectangle:
                            pos: self.pos
                            size: self.size
                    MDLabel:
                        text: "Wednesday"
                        font_style: 'Caption'
                    MDDropDownItem:
                        id: drop_item3
                        text: "Options"
                        on_release: self.set_item("Open")
                BoxLayout:
                    size_hint_y: None
                    height: self.minimum_height

                    canvas:
                        Color:
                            rgba: app.theme_cls.primary_color
                        Rectangle:
                            pos: self.pos
                            size: self.size
                    MDLabel:
                        text: "Thursday"
                        font_style: 'Caption'
                    MDDropDownItem:
                        id: drop_item4
                        text: "Options"
                        on_release: self.set_item("Open")
                BoxLayout:
                    size_hint_y: None
                    height: self.minimum_height

                    canvas:
                        Color:
                            rgba: app.theme_cls.primary_color
                        Rectangle:
                            pos: self.pos
                            size: self.size
                    MDLabel:
                        text: "Friday"
                        font_style: 'Caption'
                    MDDropDownItem:
                        id: drop_item5
                        text: "Options"
                        on_release: self.set_item("Open")
                BoxLayout:
                    size_hint_y: None
                    height: self.minimum_height

                    canvas:
                        Color:
                            rgba: app.theme_cls.primary_color
                        Rectangle:
                            pos: self.pos
                            size: self.size
                    MDLabel:
                        text: "Saturday"
                        font_style: 'Caption'
                    MDDropDownItem:
                        id: drop_item6
                        text: "Options"
                        on_release: self.set_item("Open")